<h1>Details of Debtor <%= "\"#{@debtor.name} #{@debtor.group}\""  %></h1>

<style>
  hr {
    border: none; /* Убираем границу */
    background-color: black; /* Цвет линии */
    color: black; /* Цвет линии для IE6-7 */
    height: 2px; /* Толщина линии */
  }
</style>

<table class="table table-striped table-sm">
  <thead>
  <tr>
    <th>Date</th>
    <th>Sum</th>
    <th>Description</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
<% @debtor.debts.sort{ |a, b| b.deal_date <=> a.deal_date }.each do |debt| %>
      <tr>
        <td><%= debt.deal_date %></td>
        <td><%= debt.sum %> BYN</td>
        <td><%= debt.description %></td>
        <td>
          <button class="btn btn-outline-danger"> <%= link_to 'Paid', [debt.debtor, debt],
                                                             method: :delete, data: { confirm: 'Are you sure?' }%></button>
          <button class="btn btn-outline-warning"><%= link_to 'Edit', edit_debtor_debt_path(@debtor, debt) %></button>
        </td>
      </tr>
<% end %>
  </tbody>
</table>
<hr>
<p>
  <b>Total:</b>
  <%= @debtor.debts.inject(0) {|res, debt| res + debt.sum} %> BYN
</p>

<p>
  <button class="btn btn-outline-secondary"><%= link_to 'New Debt', new_debtor_debt_path(@debtor) %></button>
  <button class="btn btn-outline-danger"> <%= link_to 'All debts paid', destroy_all_debtor_debts_path(@debtor),
                                                      data: { confirm: 'Are you sure?' }%></button>
</p>
  <button class="btn btn-outline-secondary"><%= link_to 'Back', debtors_path%></button>
